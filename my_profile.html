<!DOCTYPE html>
 
<html lang="es">
 
    <head>
        <title>Woomu</title>
        <meta charset="utf-8" />
        <link rel="stylesheet" href="assets/css/index.css" />
       <script src="assets/js/jquery-3.1.1.min.js" type="text/javascript"></script>
        <script src="assets/js/menu-tab.js" type="text/javascript"></script>
        <link rel="shortcut icon" href="assets/images/logo.jpg" />
        <link href="https://fonts.googleapis.com/icon?family=Material+Icons"
            rel="stylesheet">
    </head>
 
    <body>
        <script src="https://apis.google.com/js/platform.js" async defer></script>
        <script src="https://www.gstatic.com/firebasejs/3.4.1/firebase.js"></script>
        
        <header>
        
            <div class="nav-container">
                <table width="100%" class="nav-container">
                    <tr>
                        <td><div class="logo"><img src="assets/images/logo.jpg" width="48px"></div></td>
                        <td><a href="index.html"><p>Inicio</p></a></td>
                        <td class="menu-icon"><i id="m_navigate" class="material-icons md-28">near_me</i></td>
                        <td>
                            <div class="search">
                               
                                <i id="m_add_alarm" class="material-icons">alarm_add</i>
                                <input type="text" placeholder="Buscar" id="serach-imput"/>
                                <i id="m_search" class="material-icons">search</i>
                            </div>
                        </td>
                        
                        <td class="menu-icon"><i class="material-icons" id="m_add_post">add_box</i></td>
                        
                        <td class="menu-icon"><i class="material-icons" id="m_notifications" >notifications_none</i></td>
                        <td class="menu-icon"><i class="material-icons" id="m_messages">chat_bubble_outline</i></td>
                        
                        <td id ="config-profile" class="menu-icon"><i id="m_config" class="material-icons">more_vert</i></td>
                    </tr>
                </table>
            </div>
        </header>
        
        
        
        
        <div id="separator"></div>
        
        <br><br><br><br>
        
        <ul class="tab-menu">
          <li><a href="javascript:void(0)" class="tablinks" onclick="openMenu(event, 'Store')" id="defaultOpen"><i class="material-icons">store</i> Mi Tienda </a> |</li>
          <li><a href="javascript:void(0)" class="tablinks" onclick="openMenu(event, 'MyPosts')"><i class="material-icons">view_list</i> Mis Publicaciones </a> |</li>
          <li><a href="javascript:void(0)" class="tablinks" onclick="openMenu(event, 'Profile')"><i class="material-icons">perm_identity</i> Configuracion </a></li>
        </ul>
        

        <div id="Store" class="tabcontent">
          <h3>Mi Tienda</h3>
          <p>London is the capital city of England.</p>
        </div>

        <div id="MyPosts" class="tabcontent">
            <h3>Mis Publicaciones</h3>
            <section class="contenido">
                
            </section>
        </div>

        <div id="Profile" class="tabcontent">
            <br>
            <br>
            <table width="100%">
                <tr>
                    <td>
                        <ul class="tab-menu-vert">
                            
                            <p class="title-tab-menu-vert"> <i class="material-icons">perm_identity</i> Perfil</p>
                            <div class="list-menu-profile">
                                <li><a href="javascript:void(0)" class="tablinks-profile" onclick="openMenuProfile(event, 'profile-conf')" id="defaultOpen">Configurar perfil</a> </li>
                                <li><a href="javascript:void(0)" class="tablinks-profile" onclick="openMenuProfile(event, 'notify-conf')">Configuracion de notificaciones </a></li>
                                <li><a href="javascript:void(0)" class="tablinks-profile" onclick="openMenuProfile(event, 'change-pass')">Cambiar contraseña </a></li>
                                <li><a href="javascript:void(0)" class="tablinks-profile" onclick="openMenuProfile(event, 'channel-conf')">Configuracion de canal </a></li>
                            </div>
                        
                        </ul>
                    </td>
                    
                    
                    <td>
                        <div class="profile-conf">
                            
                            <table>
    
                                <tr>
                                    <td><p class="text-column">Nombre de usuario</p></td>
                                    <td><input class="input_line" type="text" required placeholder="Juan Perez" name="userName"></td>
                                </tr>
                                
                                
                                <tr>
                                    <td><p class="text-column">Ubicación</p></td>
                                    <td><input class="input_line" type="text" required placeholder="Guadalajara" name="guadalajara"></td>
                                </tr>
                                
                                <tr>
                                    <td><p class="text-column">Tipo de vendedor</p></td>
                                    <td>
                                         <select id="kind_use" name="kind_use" class="input_line">
                                            <option value="particular">Particular</option>
                                            <option value="professional">Prodesional</option>
                                            <option value="business">Empresa</option>
                                        </select>
                                    
                                    </td>
                                </tr>
                            </table>
                            
                            <br>
                            <hr class="dotted-line">
                            <p class="title-info">Información Privada</p>
                            <br>
                            <table>
                                
                                <tr>
                                    <td><p class="text-column">Nombre completo</p></td>
                                    <td><input class="input_line" type="text" name="fullName" required placeholder="Juan Pérez"/></td>
                                    
                                </tr>
                                
                                <tr>
                                    <td><p class="text-column">Genero</p></td>
                                    <td>
                                        <input class="input_radio" type="radio" name="gender" value="Male" checked/>Hombre
                                        <input class="input_radio" class="input_line"type="radio" name="gender" value="Female"/>Mujer
                                        <input class="input_radio" type="radio" name="gender" value="NS"/>No especificar
                                    </td>
                                    
                                </tr>
                                
                                
                                <tr>
                                    <td><p class="text-column">Correo electronico</p></td>
                                    <td><input class="input_line" type="email" name="email" required placeholder="juan@ejemplo.com"/></td>
                                    
                                </tr>
                                
                                
                                <tr>
                                    <td><p class="text-column">Teléfono móvil</p></td>
                                    <td>
                                        <select class="input_line">
                                            <option value='Afganistán +93'>Afganistán +93</option>
                                            <option value='Albania +355'>Albania +355</option>
                                            <option value='Alemania +49'>Alemania +49</option>
                                            <option value='América del Norte +1'>América del Norte +1</option>
                                            <option value='Andorra +376'>Andorra +376</option>
                                            <option value='Angola +244'>Angola +244</option>
                                            <option value='Antillas Holandesas +599'>Antillas Holandesas +599</option>
                                            <option value='Arabia Saudita +966'>Arabia Saudita +966</option>
                                            <option value='Argelia +213'>Argelia +213</option>
                                            <option value='Argentina +54'>Argentina +54</option>
                                            <option value='Armenia +374'>Armenia +374</option>
                                            <option value='Aruba +297'>Aruba +297</option>
                                            <option value='Australia +61'>Australia +61</option>
                                            <option value='Australia +672'>Australia +672</option>
                                            <option value='Austria +43'>Austria +43</option>
                                            <option value='Azerbaiyán +994'>Azerbaiyán +994</option>
                                            <option value='Bahrein +973'>Bahrein +973</option>
                                            <option value='Bangladesh +880'>Bangladesh +880</option>
                                            <option value='Belarús +375'>Belarús +375</option>
                                            <option value='Bélgica +32'>Bélgica +32</option>
                                            <option value='Belice +501'>Belice +501</option>
                                            <option value='Benin +229'>Benin +229</option>
                                            <option value='Bolivia +591'>Bolivia +591</option>
                                            <option value='Bosnia – Herzegovina +387'>Bosnia – Herzegovina +387</option>
                                            <option value='Botswana +267'>Botswana +267</option>
                                            <option value='Brasil +55'>Brasil +55</option>
                                            <option value='Brunei Darussalam +673'>Brunei Darussalam +673</option>
                                            <option value='Bulgaria +359'>Bulgaria +359</option>
                                            <option value='Burkina Faso +226'>Burkina Faso +226</option>
                                            <option value='Burundi +257'>Burundi +257</option>
                                            <option value='Bután +975'>Bután +975</option>
                                            <option value='Cabo Verde +238'>Cabo Verde +238</option>
                                            <option value='Camboya +855'>Camboya +855</option>
                                            <option value='Camerún +237'>Camerún +237</option>
                                            <option value='Chad +235'>Chad +235</option>
                                            <option value='Chile +56'>Chile +56</option>
                                            <option value='Chipre +357'>Chipre +357</option>
                                            <option value='Ciudad del Vaticano +379'>Ciudad del Vaticano +379</option>
                                            <option value='Colombia +57'>Colombia +57</option>
                                            <option value='Congo +242'>Congo +242</option>
                                            <option value='Corea del Sur +82'>Corea del Sur +82</option>
                                            <option value='Costa de Marfil +225'>Costa de Marfil +225</option>
                                            <option value='Costa Rica +506'>Costa Rica +506</option>
                                            <option value='Croacia +385'>Croacia +385</option>
                                            <option value='Cuba +53'>Cuba +53</option>
                                            <option value='Diego García +246'>Diego García +246</option>
                                            <option value='Dinamarca +45'>Dinamarca +45</option>
                                            <option value='Ecuador +593'>Ecuador +593</option>
                                            <option value='Egipto +20'>Egipto +20</option>
                                            <option value='El representante de Georgia +995'>El representante de Georgia +995</option>
                                            <option value='El Salvador +503'>El Salvador +503</option>
                                            <option value='Emiratos Árabes Unidos +971'>Emiratos Árabes Unidos +971</option>
                                            <option value='Eritrea +291'>Eritrea +291</option>
                                            <option value='Eslovaquia +421'>Eslovaquia +421</option>
                                            <option value='Eslovenia +386'>Eslovenia +386</option>
                                            <option value='España +34'>España +34</option>
                                            <option value='Estonia +372'>Estonia +372</option>
                                            <option value='Etiopía +251'>Etiopía +251</option>
                                            <option value='Filipinas +63'>Filipinas +63</option>
                                            <option value='Finlandia +358'>Finlandia +358</option>
                                            <option value='Fiyi +679'>Fiyi +679</option>
                                            <option value='Francia +33'>Francia +33</option>
                                            <option value='Gabón +241'>Gabón +241</option>
                                            <option value='Gambia +220'>Gambia +220</option>
                                            <option value='Ghana +233'>Ghana +233</option>
                                            <option value='Gibraltar +350'>Gibraltar +350</option>
                                            <option value='Grecia +30'>Grecia +30</option>
                                            <option value='Groenlandia +299'>Groenlandia +299</option>
                                            <option value='Guadalupe +590'>Guadalupe +590</option>
                                            <option value='Guatemala +502'>Guatemala +502</option>
                                            <option value='Guayana +592'>Guayana +592</option>
                                            <option value='Guinea +224'>Guinea +224</option>
                                            <option value='Guinea Ecuatorial +240'>Guinea Ecuatorial +240</option>
                                            <option value='Guinea-Bissau +245'>Guinea-Bissau +245</option>
                                            <option value='Guyana francés +594'>Guyana francés +594</option>
                                            <option value='Haití +509'>Haití +509</option>
                                            <option value='Honduras +504'>Honduras +504</option>
                                            <option value='Hong Kong +852'>Hong Kong +852</option>
                                            <option value='Hungría +36'>Hungría +36</option>
                                            <option value='India +91'>India +91</option>
                                            <option value='Indonesia +62'>Indonesia +62</option>
                                            <option value='Inmarsat (Atl-Este) +871'>Inmarsat (Atl-Este) +871</option>
                                            <option value='Inmarsat (Atl-Oeste) +874'>Inmarsat (Atl-Oeste) +874</option>
                                            <option value='Inmarsat (India O) +873'>Inmarsat (India O) +873</option>
                                            <option value='Inmarsat (Pacífico) +872'>Inmarsat (Pacífico) +872</option>
                                            <option value='Inmarsat SNAC +870'>Inmarsat SNAC +870</option>
                                            <option value='Irak +964'>Irak +964</option>
                                            <option value='Irán +98'>Irán +98</option>
                                            <option value='Irlanda +353'>Irlanda +353</option>
                                            <option value='Isla de ascensión +247'>Isla de ascensión +247</option>
                                            <option value='Isla de la Reunión +262'>Isla de la Reunión +262</option>
                                            <option value='Islandia +354'>Islandia +354</option>
                                            <option value='Islas Feroe +298'>Islas Feroe +298</option>
                                            <option value='Israel +972'>Israel +972</option>
                                            <option value='Italia +39'>Italia +39</option>
                                            <option value='Japón +81'>Japón +81</option>
                                            <option value='Jordania +962'>Jordania +962</option>
                                            <option value='Kazajstán +997'>Kazajstán +997</option>
                                            <option value='Kenia +254'>Kenia +254</option>
                                            <option value='Kiribati +686'>Kiribati +686</option>
                                            <option value='Kuwait +965'>Kuwait +965</option>
                                            <option value='La República Checa +420'>La República Checa +420</option>
                                            <option value='la República Kirguisa +996'>la República Kirguisa +996</option>
                                            <option value='Laos +856'>Laos +856</option>
                                            <option value='Las Islas Cook +682'>Las Islas Cook +682</option>
                                            <option value='Las Islas Malvinas +500'>Las Islas Malvinas +500</option>
                                            <option value='Las Islas Marshall +692'>Las Islas Marshall +692</option>
                                            <option value='Las Islas Salomón +677'>Las Islas Salomón +677</option>
                                            <option value='Lesoto +266'>Lesoto +266</option>
                                            <option value='Letonia +371'>Letonia +371</option>
                                            <option value='Líbano +961'>Líbano +961</option>
                                            <option value='Liberia +231'>Liberia +231</option>
                                            <option value='Libia +218'>Libia +218</option>
                                            <option value='Liechtenstein +423'>Liechtenstein +423</option>
                                            <option value='Lituania +370'>Lituania +370</option>
                                            <option value='Luxemburgo +352'>Luxemburgo +352</option>
                                            <option value='Macao +853'>Macao +853</option>
                                            <option value='Macedonia +389'>Macedonia +389</option>
                                            <option value='Madagascar +261'>Madagascar +261</option>
                                            <option value='Malasia +60'>Malasia +60</option>
                                            <option value='Malawi +265'>Malawi +265</option>
                                            <option value='Maldivas +960'>Maldivas +960</option>
                                            <option value='Malí +223'>Malí +223</option>
                                            <option value='Malta +356'>Malta +356</option>
                                            <option value='Marruecos +212'>Marruecos +212</option>
                                            <option value='Martinica +596'>Martinica +596</option>
                                            <option value='Mauricio +230'>Mauricio +230</option>
                                            <option value='Mauritania +222'>Mauritania +222</option>
                                            <option value='Mayotte, Comoras. +269'>Mayotte, Comoras. +269</option>
                                            <option value='México +52'>México +52</option>
                                            <option value='Micronesia +691'>Micronesia +691</option>
                                            <option value='Moldova +373'>Moldova +373</option>
                                            <option value='Mónaco +377'>Mónaco +377</option>
                                            <option value='Mongolia +976'>Mongolia +976</option>
                                            <option value='Mozambique +258'>Mozambique +258</option>
                                            <option value='Myanmar (Birmania) +95'>Myanmar (Birmania) +95</option>
                                            <option value='Namibia +264'>Namibia +264</option>
                                            <option value='Nauru +674'>Nauru +674</option>
                                            <option value='Nepal +977'>Nepal +977</option>
                                            <option value='Nicaragua +505'>Nicaragua +505</option>
                                            <option value='Níger +227'>Níger +227</option>
                                            <option value='Nigeria +234'>Nigeria +234</option>
                                            <option value='Niue +683'>Niue +683</option>
                                            <option value='Noruega +47'>Noruega +47</option>
                                            <option value='Nueva Caledonia +687'>Nueva Caledonia +687</option>
                                            <option value='Nueva Zelanda +64'>Nueva Zelanda +64</option>
                                            <option value='Omán +968'>Omán +968</option>
                                            <option value='Países Bajos +31'>Países Bajos +31</option>
                                            <option value='Pakistán +92'>Pakistán +92</option>
                                            <option value='Palau +680'>Palau +680</option>
                                            <option value='Palestina +970'>Palestina +970</option>
                                            <option value='Panamá +507'>Panamá +507</option>
                                            <option value='Papua Nueva Guinea +675'>Papua Nueva Guinea +675</option>
                                            <option value='Paraguay +595'>Paraguay +595</option>
                                            <option value='Perú +51'>Perú +51</option>
                                            <option value='Polinesia francés +689'>Polinesia francés +689</option>
                                            <option value='Polonia +48'>Polonia +48</option>
                                            <option value='Portugal +351'>Portugal +351</option>
                                            <option value='Qatar +974'>Qatar +974</option>
                                            <option value='Reino Unido +44'>Reino Unido +44</option>
                                            <option value='Rep. Centro africana. +236'>Rep. Centro africana. +236</option>
                                            <option value='República Popular de la China +86'>República Popular de la China +86</option>
                                            <option value='RPD de Corea (del Norte) +850'>RPD de Corea (del Norte) +850</option>
                                            <option value='Ruanda +250'>Ruanda +250</option>
                                            <option value='Rumania +40'>Rumania +40</option>
                                            <option value='Rusia, Kazajstán +7'>Rusia, Kazajstán +7</option>
                                            <option value='Samoa Americana +684'>Samoa Americana +684</option>
                                            <option value='Samoa Occidental +685'>Samoa Occidental +685</option>
                                            <option value='San Marino +378'>San Marino +378</option>
                                            <option value='San Pedro y Miquelón +508'>San Pedro y Miquelón +508</option>
                                            <option value='Santa Helena +290'>Santa Helena +290</option>
                                            <option value='Santo Tomé y Príncipe +239'>Santo Tomé y Príncipe +239</option>
                                            <option value='Senegal +221'>Senegal +221</option>
                                            <option value='Seychelles +248'>Seychelles +248</option>
                                            <option value='Sierra Leona +232'>Sierra Leona +232</option>
                                            <option value='Singapur +65'>Singapur +65</option>
                                            <option value='Siria +963'>Siria +963</option>
                                            <option value='Somalia +252'>Somalia +252</option>
                                            <option value='Sri Lanka +94'>Sri Lanka +94</option>
                                            <option value='Suazilandia +268'>Suazilandia +268</option>
                                            <option value='Sudáfrica +27'>Sudáfrica +27</option>
                                            <option value='Sudán +249'>Sudán +249</option>
                                            <option value='Suecia +46'>Suecia +46</option>
                                            <option value='Suiza, Liecht. +41'>Suiza, Liecht. +41</option>
                                            <option value='Suriname +597'>Suriname +597</option>
                                            <option value='Tailandia +66'>Tailandia +66</option>
                                            <option value='Taiwan +886'>Taiwan +886</option>
                                            <option value='Tanzania +255'>Tanzania +255</option>
                                            <option value='Tayikistán +992'>Tayikistán +992</option>
                                            <option value='Timor Oriental +670'>Timor Oriental +670</option>
                                            <option value='Togo +228'>Togo +228</option>
                                            <option value='Tokelau +690'>Tokelau +690</option>
                                            <option value='Tonga +676'>Tonga +676</option>
                                            <option value='Túnez +216'>Túnez +216</option>
                                            <option value='Turkmenistán +993'>Turkmenistán +993</option>
                                            <option value='Turquía +90'>Turquía +90</option>
                                            <option value='Tuvalu +688'>Tuvalu +688</option>
                                            <option value='Ucrania +380'>Ucrania +380</option>
                                            <option value='Uganda +256'>Uganda +256</option>
                                            <option value='Uruguay +598'>Uruguay +598</option>
                                            <option value='Uzbekistán +998'>Uzbekistán +998</option>
                                            <option value='Vanuatu +678'>Vanuatu +678</option>
                                            <option value='Venezuela +58'>Venezuela +58</option>
                                            <option value='Viet Nam +84'>Viet Nam +84</option>
                                            <option value='Wallis y Futuna +681'>Wallis y Futuna +681</option>
                                            <option value='Yemen +967'>Yemen +967</option>
                                            <option value='Yibuti +253'>Yibuti +253</option>
                                            <option value='Yugoslavia +381'>Yugoslavia +381</option>
                                            <option value='Zaire +243'>Zaire +243</option>
                                            <option value='Zambia +260'>Zambia +260</option>
                                            <option value='Zimbabue +263'>Zimbabue +263</option>


                                        </select>
                                        <input class="input_line" type="email" name="email" required placeholder="33 22 33 22 33"/>
                                    </td>
                                    
                                </tr>
                            
                            </table>
                            
                            <br>
                            <div class="business-div" >
                                <hr class="dotted-line">
                                <p class="title-info">Información del Negocio</p>
                                <br>
                                <table>

                                    <tr>
                                        <td><p class="text-column">Nombre del negocio</p></td>
                                        <td><input class="input_line" type="text" name="bussinessName" required placeholder="Empresa Sa de CV"/></td>

                                    </tr>
                                    
                                    <tr>
                                        <td><p class="text-column">Dirección</p></td>
                                        <td><input class="input_line" type="text" name="addressLocation" required placeholder="Av Americas 1474"/></td>

                                    </tr>
                                    
                                    <tr>
                                        <td><p class="text-column">Télefono</p></td>
                                        <td><input class="input_line" type="tel" name="phoneNumbers" required placeholder="33112200"/></td>

                                    </tr>
                                    
                                    
                                    <tr>
                                        <td><p class="text-column">Horario</p></td>
                                        <td><input class="input_line" type="tel" name="horary" required placeholder="Horario"/></td>

                                    </tr>
                                    
                                    

                                    



                                </table>
                            </div>
                        
                        </div>
                    </td>
                </tr>
            </table>
        </div>
        
        
        
        <br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br>
        
        <p>Hola</p>
        
        
        <div id="modalChangeProfileImage" class="modalChangeProfileImage">

          <!-- Modal content -->
        <div class="modal-content">
            <span class="modal-close"><i class="material-icons">close</i></span>
                <br>
                <br>
                <p class="title-info">Selecciona tu nueva foto de perfil</p>
                <div id="newProfileImage"></div>
                <br>
                <input type="file" name="selectProfileImage" id ="selectProfileImage" style="display:none" accept="image/jpeg,image/gif,image/gif,image/bmp,image/tiff"/>
                <label for="selectProfileImage">
                <span id="selectProfileImageLabel">Examinar</span>
                </label>
                <input type="button" name="saveProfileImage" id="saveProfileImage" value="Guardar">
          </div>

        </div>
        
        
        <script>
            
            
            
            /*-----------------------------------------------------------------------------*/
            /*---------------------------CONGIG FIREBASE-----------------------------------*/
            /*-----------------------------------------------------------------------------*/
            
            var config = {
                apiKey: "AIzaSyCzzbHICp-gnN3NUuRlwp5kPhTYeX1XbEg",
                authDomain: "firesales-b6e0d.firebaseapp.com",
                databaseURL: "https://firesales-b6e0d.firebaseio.com",
                storageBucket: "firesales-b6e0d.appspot.com",
                messagingSenderId: "810862976904"
            };
            firebase.initializeApp(config);
            
            
            //CAMBIO DE ESTADO DE LA AUTENTICACION-----------------------
            firebase.auth().onAuthStateChanged(function(user) {
                
                //SI HAY UN USUARIO LOGGEADO
                if (user) {
                    
                    
                   
                    $("#profile_image").remove();                    
                    
                    if (user.photoURL == null){
                        $("#config-profile").before("<td id ='profile_image' class='menu-icon' width='40px'><i id='profile-image-menu' class='material-icons'>person</i></td>");
                        
                        $("#separator").before("<div class=\u0022landscape-image\u0022  STYLE=\u0022background-image:url('assets/images/img.jpg')\u0022>  <div class=\u0022profile-image\u0022 STYLE=\u0022background-image:url('assets/images/profile_image.png')\u0022><div class=\u0022change_image_profile\u0022 id=\u0022change_image_profile\u0022>Cambiar</div></div></div>");
                        
                    }
                    else{
                        
                        $("#config-profile").before("<td id='profile_image' class='menu-icon' width='40px'><img id='profile-image-menu' src='"+user.photoURL+"'/><td>");
                        
                        $("#separator").before("<div class=\u0022landscape-image\u0022  STYLE=\u0022background-image:url('assets/images/img.jpg')\u0022>  <div class=\u0022profile-image\u0022 STYLE=\u0022background-image:url('" +user.photoURL + "')\u0022><div class=\u0022change_image_profile\u0022 id=\u0022change_image_profile\u0022>Cambiar</div></div></div>");
                    }
                    
                    
                    //---------BOTON PERFIL DEL MENU SUPERIOR----------------
                    document.getElementById('profile-image-menu').addEventListener('click', function() {
                
                
                        location.href ="my_profile.html";


                    })
                    
                    
                    //----------BOTON DE CAMBIAR IMAGEN DE PERFIL------------
                    document.getElementById('change_image_profile').addEventListener('click', function() {
                
                
                        //alert("Cambio de imagen");
                        var modal = document.getElementById('modalChangeProfileImage');
                        modal.style.display ="block";
                        
                        var file="";
                        document.getElementById("selectProfileImage").addEventListener('change', function( e )
                        {
                            
                            file = this.files[0];
                            
                            console.log("Nombre de archivo: " + file.name);
                            console.log("Tipo de archivo: " + file.type );
                            console.log("ubicacion: "+ file);
                            
                            var type = file.type.split("/")[0];
                            
                            
                            if (type != "image"){//NO ES UNA IMAGEN
                                document.getElementById('newProfileImage').innerHTML ="<p>Upps, esto no parece ser una imagen</p>";
                            }
                            
                            else{
                                
                                var files = this.files; // FileList object
       
                                //Obtenemos la imagen del campo "file". 
                              for (var i = 0, f; f = files[i]; i++) {         
                                   //Solo admitimos imágenes.
                                   if (!f.type.match('image.*')) {
                                        continue;
                                   }

                                   var reader = new FileReader();

                                   reader.onload = (function(theFile) {
                                       return function(e) {
                                       // Creamos la imagen.
                                              document.getElementById("newProfileImage").innerHTML = ['<img id="newProfileImage" src="', e.target.result,'" title="', escape(theFile.name), '"/>'].join('');
                                       };
                                   })(f);

                                   reader.readAsDataURL(f);
                               }

                            
                                
                            }
                            
                            document.getElementById('saveProfileImage').addEventListener('click', function() {
                                console.log("Guardar");
                                
                                updateProfileImage(user.uid, file, file.type);
                            })
                            
                        });
                        
                        
                        function updateProfileImage(userUID, file){
                            
                            var metadata = {
                                'contentType': file.type
                            };
                            var auth = firebase.auth();
                            var storageRef = firebase.storage().ref();
                            
                            storageRef.child('images/' + userUID + "/profile." + file.type.split("/")[1]).put(file, metadata).then(function(snapshot) {
                            console.log('Uploaded', snapshot.totalBytes, 'bytes.');
                            console.log(snapshot.metadata);
                            var url = snapshot.metadata.downloadURLs[0];
                            console.log('File available at', url);
                                
                                user.updateProfile({
                                  
                                  photoURL: url
                                    
                                }).then(function() {
                                  location.reload();
                                    
                                }, function(error) {
                                  // An error happened.
                                });
                            
                            
                                
                                
                                
                            }).catch(function(error) {
                            // [START onfailure]
                            console.error('Upload failed:', error);
                                // [END onfailure]
                            });
                            
                            
                            
                        }
                        
                        
                        /*function handleFileSelect(evt) {
                            evt.stopPropagation();
                            evt.preventDefault();
                            var file = evt.target.files[0];

                            var metadata = {
                                'contentType': file.type
                            };
                            
                            console.log("Nombre de archivo" + file.name);
                            console.log("Tipo de archivo" + metadata );

                            // Push to child path.
                            // [START oncomplete]
                            
                            storageRef.child('images/' + file.name).put(file, metadata).then(function(snapshot) {
                            console.log('Uploaded', snapshot.totalBytes, 'bytes.');
                            console.log(snapshot.metadata);
                            var url = snapshot.metadata.downloadURLs[0];
                            console.log('File available at', url);
                            // [START_EXCLUDE]
                            document.getElementById('linkbox').innerHTML = '<a href="' +  url + '">Click For File</a>';
                            // [END_EXCLUDE]
                            }).catch(function(error) {
                            // [START onfailure]
                            console.error('Upload failed:', error);
                                // [END onfailure]
                            });
                              // [END oncomplete]
                        }*/
                        
                        
                        
                        
                        document.getElementsByClassName('modal-close')[0].addEventListener('click', function() {
                             
                             modal.style.display = "none";
                            document.getElementById("newProfileImage").innerHTML ="";
                        })
                        
                        
                        
                    })
                    
        
                    
                } else {
                    location.href ="login.html";
                    
                    
                }
            });

            
            
        
        </script>
        
        
        
        
    

    </body>
</html>